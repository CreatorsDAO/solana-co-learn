# ç®€è¦æ¦‚è¿°

æ‰€æœ‰é“¾ä¸Šæ•°æ®çš„ä¿®æ”¹éƒ½æ˜¯é€šè¿‡äº¤æ˜“æ¥å®ç°çš„ã€‚äº¤æ˜“ä¸»è¦æ˜¯ä¸€ç»„è°ƒç”¨Solanaç¨‹åºçš„æŒ‡ä»¤ã€‚

äº¤æ˜“æ˜¯åŸå­æ€§çš„ï¼Œè¿™æ„å‘³ç€å®ƒä»¬è¦ä¹ˆæˆåŠŸâ€”â€”å¦‚æœæ‰€æœ‰æŒ‡ä»¤éƒ½æ­£ç¡®æ‰§è¡Œäº†ï¼›è¦ä¹ˆå¤±è´¥â€”â€”å°±å¥½åƒäº¤æ˜“æ ¹æœ¬æ²¡æœ‰è¿è¡Œè¿‡ä¸€æ ·ã€‚

# æ­£æ–‡ 

### äº¤æ˜“æ˜¯åŸå­æ€§çš„

ä»»ä½•å¯¹é“¾ä¸Šæ•°æ®çš„ä¿®æ”¹éƒ½æ˜¯é€šè¿‡å‘é€åˆ°ç¨‹åºçš„äº¤æ˜“æ¥å®ç°çš„ã€‚

Solanaä¸Šçš„äº¤æ˜“ä¸å…¶ä»–åœ°æ–¹çš„äº¤æ˜“ç±»ä¼¼ï¼šå®ƒæ˜¯åŸå­æ€§çš„ã€‚åŸå­æ€§æ„å‘³ç€æ•´ä¸ªäº¤æ˜“è¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ã€‚

æƒ³è±¡ä¸€ä¸‹åœ¨çº¿æ”¯ä»˜ï¼š

1. ä½ çš„è´¦æˆ·ä½™é¢ä¼šè¢«æ‰£é™¤
2. é“¶è¡Œå°†èµ„é‡‘è½¬ç»™å•†å®¶

è¿™ä¸¤ä»¶äº‹éƒ½éœ€è¦å‘ç”Ÿï¼Œäº¤æ˜“æ‰ç®—æˆåŠŸã€‚å¦‚æœå…¶ä¸­ä»»ä½•ä¸€ä¸ªå¤±è´¥ï¼Œé‚£ä¹ˆæœ€å¥½æ˜¯ä¸¤è€…éƒ½ä¸å‘ç”Ÿï¼Œè€Œä¸æ˜¯å‘ç”Ÿå…¶ä¸­ä¸€ä¸ªâ€”â€”æ”¯ä»˜ç»™å•†å®¶è€Œä¸æ‰£é™¤ä½ çš„è´¦æˆ·ï¼Œæˆ–è€…æ‰£é™¤è´¦æˆ·ä½†ä¸æ”¯ä»˜ç»™å•†å®¶ï¼Œè¿™éƒ½ä¸æ˜¯æˆ‘ä»¬å¸Œæœ›çœ‹åˆ°çš„ã€‚

åŸå­æ€§æ„å‘³ç€è¦ä¹ˆäº¤æ˜“å‘ç”Ÿâ€”â€”æ„å‘³ç€æ‰€æœ‰ä¸ªåˆ«æ­¥éª¤éƒ½æˆåŠŸâ€”â€”è¦ä¹ˆæ•´ä¸ªäº¤æ˜“å…¨éƒ½å¤±è´¥ã€‚

### äº¤æ˜“åŒ…å«æŒ‡ä»¤

Solanaä¸Šäº¤æ˜“å†…çš„æ­¥éª¤è¢«ç§°ä¸ºæŒ‡ä»¤ã€‚

æ¯ä¸ªæŒ‡ä»¤åŒ…å«ï¼š

- å°†è¦ä»ä¸­è¯»å–å’Œ/æˆ–å†™å…¥çš„è´¦æˆ·æ•°ç»„ã€‚è¿™å°±æ˜¯Solanaå¿«é€Ÿå¤„ç†çš„åŸå› â€”â€”å½±å“ä¸åŒè´¦æˆ·çš„äº¤æ˜“å¯ä»¥åŒæ—¶å¤„ç†
- è¦è°ƒç”¨çš„ç¨‹åºçš„å…¬é’¥
- ä¼ é€’ç»™è¢«è°ƒç”¨ç¨‹åºçš„æ•°æ®ï¼Œä»¥å­—èŠ‚æ•°ç»„çš„å½¢å¼ç»“æ„åŒ–

å½“è¿è¡Œäº¤æ˜“æ—¶ï¼Œå°†è°ƒç”¨ä¸€ä¸ªæˆ–å¤šä¸ªSolanaç¨‹åºï¼Œå¹¶ä½¿ç”¨äº¤æ˜“ä¸­åŒ…å«çš„æŒ‡ä»¤ã€‚

æ­£å¦‚ä½ æ‰€æœŸæœ›çš„ï¼Œ`@solana/web3.js` æä¾›äº†åˆ›å»ºäº¤æ˜“å’ŒæŒ‡ä»¤çš„è¾…åŠ©å‡½æ•°ã€‚ä½ å¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•° `new Transaction()` åˆ›å»ºä¸€ä¸ªæ–°çš„äº¤æ˜“ã€‚ä¸€æ—¦åˆ›å»ºï¼Œä½ å°±å¯ä»¥ä½¿ç”¨ `add()` æ–¹æ³•å‘äº¤æ˜“ä¸­æ·»åŠ æŒ‡ä»¤ã€‚

å…¶ä¸­ä¸€ä¸ªè¾…åŠ©å‡½æ•°æ˜¯ `SystemProgram.transfer()`ï¼Œå®ƒåˆ›å»ºäº†ä¸€ä¸ªè®© `SystemProgram` è½¬ç§»ä¸€äº›SOLçš„æŒ‡ä»¤ï¼š

```
const transaction = new Transaction()

const sendSolInstruction = SystemProgram.transfer({
  fromPubkey: sender,
  toPubkey: recipient,
  lamports: LAMPORTS_PER_SOL * amount
})

transaction.add(sendSolInstruction)
```

`SystemProgram.transfer()` å‡½æ•°éœ€è¦ï¼š

- å‘é€è€…è´¦æˆ·å¯¹åº”çš„å…¬é’¥
- æ”¶ä»¶äººè´¦æˆ·å¯¹åº”çš„å…¬é’¥
- ä»¥lamportsä¸ºå•ä½çš„è¦å‘é€çš„SOLæ•°é‡ã€‚

`SystemProgram.transfer()` è¿”å›ç”¨äºå°†SOLä»å‘é€è€…å‘é€ç»™æ¥æ”¶è€…çš„æŒ‡ä»¤ã€‚

åœ¨è¿™ä¸ªæŒ‡ä»¤ä¸­ä½¿ç”¨çš„ç¨‹åºå°†æ˜¯ç³»ç»Ÿç¨‹åºï¼ˆåœ°å€ä¸º `11111111111111111111111111111111`ï¼‰ï¼Œæ•°æ®å°†æ˜¯è¦è½¬ç§»çš„SOLé‡‘é¢ï¼ˆä»¥Lamportsä¸ºå•ä½ï¼‰ï¼Œè´¦æˆ·å°†åŸºäºå‘é€è€…å’Œæ¥æ”¶è€…ã€‚

ç„¶åï¼ŒæŒ‡ä»¤å¯ä»¥è¢«æ·»åŠ åˆ°äº¤æ˜“ä¸­ã€‚

ä¸€æ—¦æ‰€æœ‰æŒ‡ä»¤éƒ½è¢«æ·»åŠ ï¼Œå°±éœ€è¦å°†äº¤æ˜“å‘é€åˆ°é›†ç¾¤å¹¶ç¡®è®¤ï¼š

```
const signature = sendAndConfirmTransaction(
  connection,
  transaction,
  [senderKeypair]
)
```

`sendAndConfirmTransaction()` å‡½æ•°ä½œä¸ºå‚æ•°æ¥å—

- ä¸€ä¸ªé›†ç¾¤è¿æ¥
- ä¸€ä¸ªäº¤æ˜“
- å°†ä½œä¸ºäº¤æ˜“ä¸Šç­¾åè€…çš„å¯†é’¥å¯¹æ•°ç»„â€”â€”åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åªæœ‰ä¸€ä¸ªç­¾åè€…ï¼šå‘é€è€…ã€‚

### äº¤æ˜“è´¹ç”¨

äº¤æ˜“è´¹ç”¨æ˜¯å†…ç½®äºSolanaç»æµä¸­çš„ï¼Œä½œä¸ºå¯¹éªŒè¯å™¨ç½‘ç»œåœ¨å¤„ç†äº¤æ˜“æ—¶æ‰€éœ€çš„CPUå’ŒGPUèµ„æºçš„è¡¥å¿ã€‚Solanaçš„äº¤æ˜“è´¹ç”¨æ˜¯ç¡®å®šçš„ã€‚

åœ¨äº¤æ˜“ä¸Šçš„ç­¾åè€…æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªç­¾åè€…è´Ÿè´£æ”¯ä»˜äº¤æ˜“è´¹ç”¨ã€‚å¦‚æœè¿™ä¸ªç­¾åè€…çš„è´¦æˆ·ä¸­æ²¡æœ‰è¶³å¤Ÿçš„SOLæ¥æ”¯ä»˜äº¤æ˜“è´¹ç”¨ï¼Œäº¤æ˜“å°†è¢«ä¸¢å¼ƒã€‚

åœ¨æµ‹è¯•æ—¶ï¼Œæ— è®ºæ˜¯æœ¬åœ°è¿˜æ˜¯åœ¨devnetä¸Šï¼Œä½ å¯ä»¥ä½¿ç”¨Solana CLIå‘½ä»¤ `solana airdrop 1` æ¥è·å–å…è´¹çš„æµ‹è¯•SOLï¼Œç”¨äºæ”¯ä»˜äº¤æ˜“è´¹ç”¨ã€‚

### Solana Explorer

![Screenshot of Solana Explorer set to Devnet](https://www.soldev.app/assets/solana-explorer-devnet.png)

åŒºå—é“¾ä¸Šçš„æ‰€æœ‰äº¤æ˜“éƒ½å¯ä»¥åœ¨[Solana Explorer](https://explorer.solana.com/)ä¸Šå…¬å¼€æŸ¥çœ‹ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥å–ä¸Šé¢ç¤ºä¾‹ä¸­ `sendAndConfirmTransaction()` è¿”å›çš„ç­¾åï¼Œåœ¨Solana Explorerä¸­æœç´¢è¯¥ç­¾åï¼Œç„¶åæŸ¥çœ‹ï¼š

- å®ƒå‘ç”Ÿçš„æ—¶é—´
- å®ƒåŒ…å«åœ¨å“ªä¸ªåŒºå—ä¸­
- äº¤æ˜“è´¹ç”¨
- ä»¥åŠæ›´å¤šä¿¡æ¯

![Screenshot of Solana Explorer with details about a transaction](https://www.soldev.app/assets/solana-explorer-transaction-overview.png)

# å®éªŒ

æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªè„šæœ¬ï¼Œç”¨äºå‘å…¶ä»–å­¦ç”Ÿå‘é€SOLã€‚

1. **åŸºç¡€æ¡†æ¶** æˆ‘ä»¬å°†å¼€å§‹ä½¿ç”¨æˆ‘ä»¬ä¹‹å‰åœ¨â€œåŠ å¯†å­¦å…¥é—¨â€ä¸­åˆ›å»ºçš„ç›¸åŒçš„åŒ…å’Œ `.env` æ–‡ä»¶ã€‚

åˆ›å»ºä¸€ä¸ªåä¸º `transfer.ts` çš„æ–‡ä»¶ï¼š

```
import {
  Connection,
  Transaction,
  SystemProgram,
  sendAndConfirmTransaction,
  PublicKey,
} from "@solana/web3.js";
import "dotenv/config"
import { getKeypairFromEnvironment } from "@solana-developers/node-helpers";

const suppliedToPubkey = process.argv[2] || null;

if (!suppliedToPubkey) {
  console.log(`Please provide a public key to send to`);
  process.exit(1);
}

const senderKeypair = getKeypairFromEnvironment("SECRET_KEY");

console.log(`suppliedToPubkey: ${suppliedToPubkey}`);

const toPubkey = new PublicKey(suppliedToPubkey);

const connection = new Connection("https://api.devnet.solana.com", "confirmed");

console.log(
  `âœ… Loaded our own keypair, the destination public key, and connected to Solana`
);
```

è¿è¡Œè„šæœ¬ä»¥ç¡®ä¿å®ƒè¿æ¥ã€åŠ è½½äº†ä½ çš„å¯†é’¥å¯¹ï¼Œå¹¶åŠ è½½äº†ï¼š

```
npx esrun transfer.ts (ç›®æ ‡é’±åŒ…åœ°å€)
```

### åˆ›å»ºäº¤æ˜“å¹¶è¿è¡Œ

æ·»åŠ ä»¥ä¸‹å†…å®¹ä»¥å®Œæˆäº¤æ˜“å¹¶å‘é€ï¼š

```
console.log(
  `âœ… Loaded our own keypair, the destination public key, and connected to Solana`
);

const transaction = new Transaction();

const LAMPORTS_TO_SEND = 5000;

const sendSolInstruction = SystemProgram.transfer({
  fromPubkey: senderKeypair.publicKey,
  toPubkey,
  lamports: LAMPORTS_TO_SEND,
});

transaction.add(sendSolInstruction);

const signature = await sendAndConfirmTransaction(connection, transaction, [
  senderKeypair,
]);

console.log(
  `ğŸ’¸ Finished! Sent ${LAMPORTS_TO_SEND} to the address ${toPubkey}. `
);
console.log(`Transaction signature is ${signature}!`);
```

### å°è¯•

 å‘ç­ä¸Šå…¶ä»–å­¦ç”Ÿå‘é€SOLã€‚

```
npx esrun transfer.ts (ç›®æ ‡é’±åŒ…åœ°å€)
```

# æŒ‘æˆ˜ 

å›ç­”ä»¥ä¸‹é—®é¢˜ï¼š

* è½¬è´¦èŠ±è´¹äº†å¤šå°‘Solanaï¼Ÿæ¢ç®—æˆç¾å…ƒæ˜¯å¤šå°‘é’±ï¼Ÿ

* ä½ èƒ½åœ¨ [https://explorer.solana.com](https://explorer.solana.com/) æ‰¾åˆ°ä½ çš„äº¤æ˜“è®°å½•å—ï¼Ÿæ³¨æ„ï¼Œæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨çš„æ˜¯ devnet ç½‘ç»œã€‚

* è½¬è´¦éœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ

* ä½ è®¤ä¸ºã€Œconfirmedã€æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ