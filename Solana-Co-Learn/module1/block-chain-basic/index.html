<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-Solana-Co-Learn docs-doc-id-module1/block-chain-basic/README">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">区块链基本概念介绍 | All in One Solana</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://www.all-in-one-blockchain.xyz/all-in-one-solana/Solana-Co-Learn/module1/block-chain-basic/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-Solana-Co-Learn-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-Solana-Co-Learn-current"><meta data-rh="true" property="og:title" content="区块链基本概念介绍 | All in One Solana"><meta data-rh="true" name="description" content="1. 什么是区块链？"><meta data-rh="true" property="og:description" content="1. 什么是区块链？"><link data-rh="true" rel="icon" href="/all-in-one-solana/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.all-in-one-blockchain.xyz/all-in-one-solana/Solana-Co-Learn/module1/block-chain-basic/"><link data-rh="true" rel="alternate" href="https://www.all-in-one-blockchain.xyz/all-in-one-solana/Solana-Co-Learn/module1/block-chain-basic/" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.all-in-one-blockchain.xyz/all-in-one-solana/Solana-Co-Learn/module1/block-chain-basic/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/all-in-one-solana/blog/rss.xml" title="All in One Solana RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/all-in-one-solana/blog/atom.xml" title="All in One Solana Atom Feed"><link rel="stylesheet" href="/all-in-one-solana/assets/css/styles.94a58ed2.css">
<link rel="preload" href="/all-in-one-solana/assets/js/runtime~main.d9e3c240.js" as="script">
<link rel="preload" href="/all-in-one-solana/assets/js/main.33da7cde.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/all-in-one-solana/"><div class="navbar__logo"><img src="/all-in-one-solana/img/my_logo.svg" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/all-in-one-solana/img/my_logo.svg" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">All In One Solana</b></a><a class="navbar__item navbar__link" href="/all-in-one-solana/awesome-solana-zh">Awesome Solana Zh</a><a class="navbar__item navbar__link" href="/all-in-one-solana/Solana-Co-Learn">Solana Co Learn</a><a class="navbar__item navbar__link" href="/all-in-one-solana/cookbook-zh">Solana Cookbook Zh</a><a class="navbar__item navbar__link" href="/all-in-one-solana/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/CreatorsDAO/all-in-one-solana.git" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/all-in-one-solana/Solana-Co-Learn/">Solana Co Learn</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item green"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/all-in-one-solana/Solana-Co-Learn/module1/">Solana 基础 (与Solana网络通过rpc交互)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Solana 基础 (与Solana网络通过rpc交互)&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/all-in-one-solana/Solana-Co-Learn/module1/block-chain-basic/">区块链基本概念介绍</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed green"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/all-in-one-solana/Solana-Co-Learn/module1/local_program_development/">本地开发环境配置</a><button aria-label="Toggle the collapsible sidebar category &#x27;本地开发环境配置&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed green"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/all-in-one-solana/Solana-Co-Learn/module1/client-side-development/">客户端开发</a><button aria-label="Toggle the collapsible sidebar category &#x27;客户端开发&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed green"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/all-in-one-solana/Solana-Co-Learn/module1/wallets-and-frontends/">钱包和前端</a><button aria-label="Toggle the collapsible sidebar category &#x27;钱包和前端&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed green"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/all-in-one-solana/Solana-Co-Learn/module1/custom-instruction/">自定义指令</a><button aria-label="Toggle the collapsible sidebar category &#x27;自定义指令&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed green"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/all-in-one-solana/Solana-Co-Learn/module1/start-your-own-custom-project/">开始你自己的定制项目</a><button aria-label="Toggle the collapsible sidebar category &#x27;开始你自己的定制项目&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/all-in-one-solana/Solana-Co-Learn/module1/wallet-usage/">Solana钱包使用 - Backpack 🎒</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed green"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/all-in-one-solana/Solana-Co-Learn/module2/">Solana 进阶 (SPL token与NFT)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Solana 进阶 (SPL token与NFT)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed green"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/all-in-one-solana/Solana-Co-Learn/module3/">Solana Native 开发</a><button aria-label="Toggle the collapsible sidebar category &#x27;Solana Native 开发&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed green"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/all-in-one-solana/Solana-Co-Learn/module4/">PDAs 与CPIs</a><button aria-label="Toggle the collapsible sidebar category &#x27;PDAs 与CPIs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed green"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/all-in-one-solana/Solana-Co-Learn/module5/">深入Anchor框架</a><button aria-label="Toggle the collapsible sidebar category &#x27;深入Anchor框架&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed green"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/all-in-one-solana/Solana-Co-Learn/module6/">VRF可验证随机数的应用</a><button aria-label="Toggle the collapsible sidebar category &#x27;VRF可验证随机数的应用&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>区块链基本概念介绍</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-什么是区块链">1. 什么是区块链？<a href="#1-什么是区块链" class="hash-link" aria-label="Direct link to 1. 什么是区块链？" title="Direct link to 1. 什么是区块链？">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-区块链的定义">1.1 区块链的定义<a href="#11-区块链的定义" class="hash-link" aria-label="Direct link to 1.1 区块链的定义" title="Direct link to 1.1 区块链的定义">​</a></h3><p>来自维基百科的定义：</p><ul><li>区块链是借由密码学和共识机制等技术建立与存储庞大交易资料串连的点对点网路系统。</li></ul><p>网络上其它一些定义：</p><ul><li>区块链是一个去中心化的、可共享的、防篡改的分布式账本。</li><li>区块链技术是一种高级数据库机制，允许在企业网络中透明的共享信息。</li><li>区块链是一个共享的、不可篡改的账本，旨在促进业务网络中的交易记录和资产跟踪流程。</li></ul><p>总结如下：</p><ul><li>从功能上说，区块链系统是一个去中心化的、可共享的、不可篡改的分布式账本。</li><li>从使用技术上说，区块链系统是由密码学、共识机制、p2p等技术建立的软件系统。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-比特币和区块链的关系">1.2 比特币和区块链的关系<a href="#12-比特币和区块链的关系" class="hash-link" aria-label="Direct link to 1.2 比特币和区块链的关系" title="Direct link to 1.2 比特币和区块链的关系">​</a></h3><p>比特币的出现标志着区块链技术的产生，换句话说，比特币系统的主要技术就是区块链技术。
比特币是第一个区块链系统，中本聪可以说是区块链技术的始祖。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="13-区块链技术的演进">1.3 区块链技术的演进<a href="#13-区块链技术的演进" class="hash-link" aria-label="Direct link to 1.3 区块链技术的演进" title="Direct link to 1.3 区块链技术的演进">​</a></h3><ul><li>2008年，中本聪在网上发布了一篇名为《Bitcoin: A Peer-to-Peer Electronic Cash System》。</li><li>2008年11月16日，中本聪公布了比特币系统的源代码。</li><li>2009年1月3日（比特币的创世时刻），中本聪在互联网上上线了比特币网络。比特币的产生标志着区块链进入1.0时代。</li><li>2013年，V神提出：图灵完备、可编程的区块链。从此之后区块链有了智能合约。以太坊的产生标志着区块链进入2.0时代。</li><li>从以太坊之后，不断有新的区块链技术出现，像<code>Solana</code>、<code>Polkadot</code>、<code>Comos</code>、<code>Near</code>等等。</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-从使用者的角度看区块链是怎样运行的">2 从使用者的角度看，区块链是怎样运行的？<a href="#2-从使用者的角度看区块链是怎样运行的" class="hash-link" aria-label="Direct link to 2 从使用者的角度看，区块链是怎样运行的？" title="Direct link to 2 从使用者的角度看，区块链是怎样运行的？">​</a></h2><p>下面主要以比特币为例，看看区块链系统是怎么运行的。在开始之前，我们需要明确一下比特币的功能。比特币系统是一个软件系统，这个软件系统的主要功能实际就是记账，记录的内容就是谁有多少个比特币，例如“小明有3个比特币”。当然比特币真正的记账不会这么简单，因为它实际上是以一种叫做<code>UTXO</code>的结构在记账，但是此处希望大家明白的是它主要的功能就是记账。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-比特币的运行">2.1 比特币的运行<a href="#21-比特币的运行" class="hash-link" aria-label="Direct link to 2.1 比特币的运行" title="Direct link to 2.1 比特币的运行">​</a></h3><p>下面我们就从小明和小红之间的转账过程来看看区块链系统是怎么样运行的。
s</p><ul><li>假定开始时：小明已经有了3个比特币，小红没有比特币，此时在比特币系统中就会类似记录“小明， 3个比特币”。</li><li>当小明通过比特币系统转给小红1个比特币后，比特币系统中的记录就会变成“小明，2个比特币；小红，1个比特币”。
特别说明：比特币是使用<code>UTXO</code>的方式记账，此处为了方便演示区块链系统运行的过程，所以对记账以账户类型方式做替代，如需了解比特币正在的记账方式请查阅<code>UTXO</code>相关资料。</li></ul><p><img loading="lazy" src="/all-in-one-solana/assets/images/temps-2026880475362866b4bad3f38a5da414.png" width="1177" height="661" class="img_ev3q"></p><p>当“小明转给小红1个比特币”时，其发生的过程主要如下：</p><ol><li><p>小明通过终端（手机或者电脑）将交易发给比特币系统的某个节点（例如上图中的计算机1），这个交易记录的主要信息就是“小明转给小红1个比特币”。</p></li><li><p>计算机1上的比特币程序就会做如下几件事情：</p></li></ol><ul><li>检查交易的合法性。</li><li>将交易广播给其它相连的节点（计算机上的比特币程序实际上就是比特币网络中的一个节点，后面我们都称为节点）。</li></ul><ol start="3"><li>其它节点通过网络收到这个交易后，也都会做如下的事情：</li></ol><ul><li>检查交易的合法性。</li><li>广播给其它相连的节点。</li></ul><ol start="4"><li>除了上述的上述的动作外，每个节点还会持续进行挖矿的操作（这里假定系统中所有的节点都是全节点，便于说明原理），具体行为为：</li></ol><ul><li>将收到的交易进行打包，打包之后的结构叫做区块。</li><li>区块的区块头里面要填充一些信息，这些信息包括前一个区块头的哈希，区块链中所有交易哈希的默克尔树的树根，还有解一个难题的难度值等。</li><li>将打包好的区块广播给网络中的其它节点。</li></ul><ol start="5"><li>每个节点收到区块后（每个节点自己打包区块，同时也会从网络中收到其它的区块），会进行如下处理：</li></ol><ul><li>对收到的区块进行验证。</li><li>然后将新收到的区块进行存储，这样每个节点上就会有一个区块组成的链条形式的账本（因为每个区块头里面有前一个区块头的信息）。</li></ul><ol start="6"><li>“小明转给小红1个比特币”这个交易信息最终就被记录在某个区块中，我们就可以认为这个信息已经被记录在比特币系统中了，其对应的效果就类似于记录“小明，2个比特币；小红，1个比特币”。</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-几个重要的问题">2.2 几个重要的问题<a href="#22-几个重要的问题" class="hash-link" aria-label="Direct link to 2.2 几个重要的问题" title="Direct link to 2.2 几个重要的问题">​</a></h3><ol><li>如何验证交易的合法性？</li></ol><p>每个节点收到交易后如何验证交易的合法性，换句话说，就是怎么知道“小明可以给小红转1个比特币”。这是因为，每个节点都保存有区块链的账本（一个区块连着一个区块），在收到交易后，它会查自己账本中对应的情况，看小明是不是有3个比特币。</p><ol start="2"><li>如何保证挖矿的节点真实的打包区块？</li></ol><p>上面的交易相对来说好验证，但是如果某个节点打包时，自己私自写一个交易或者篡改一个交易到区块中，其它区块怎么验证，如果无法验证的话，那么这个账本的可信度岂不是无法保证。</p><p>这里就涉及到每个节点挖矿时都需要解决一个难题，而这个难题的计算需要一定的代价（需要不断的计算，花费电费），当它打包的区块被大部分节点都加入到区块链条中后，会得到相应的奖励。当其它节点收到别的节点打包的区块时，会进行下面的验证：</p><ul><li>验证这个难题的答案是不是正确。</li><li>验证是不是区块链里面的每笔交易是不是正确（会根据自己本地的账本验证交易是不是正确）。</li></ul><p>试想一下，如果有一个作恶的节点，当它花费一定的电量打包了一个区块，而此区块中有一笔或者多笔篡改的交易；当其它节点收到该区块后，根据上面的第二点验证时，验证不过，那么就会抛弃此区块。此时作恶节点就得不到挖矿的奖励，但是它挖矿时是花费了成本的，这对它来说并不划算，所以正常来说，挖矿的节点不会做这种吃力不讨好的事情。即使有个别的节点做这样的事情，也不会对最终的结果产生影响。</p><ol start="3"><li>多个节点都在打包区块，那么当其它节点收到区块后，必然会出现一个高度有多个区块的情况（即每个区块的前一个区块头信息都一样），那么存储时以那个区块中的信息为准？</li></ol><p>这个问题描述是下面这种情形：</p><p><img loading="lazy" src="/all-in-one-solana/assets/images/blocks-0675451b5abdf0bbe82a45c32861423b.png" width="1280" height="462" class="img_ev3q"></p><p>在上图中，当节点5收到多个高度为<code>n+1</code>的区块，它的区块链链条该选择那个区块呢？在比特币中，选择链条最长的作为最终的账本，其它分叉上的区块就会无效。每个矿工节点在挖矿时，都会基于自己看到的最长的链条上的最新区块进行打包（例如接下来节点5要打包第<code>n+3</code>个区块，它就会选择在中间那个链条上block <code>n+2</code>作为父区块挖矿。），当所有节点都如此选择时，在所有节点上的链条最终会一致（就是那条最长的链条）。</p><p>小结：</p><p>上面的第2和第3个问题实际上可以合成一个问题，就是如何保证所有节点上的账本一致？而在区块链系统中解决这部分问题的机制就叫做共识机制。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-从实现的角度看看区块链的架构">3 从实现的角度看，看区块链的架构<a href="#3-从实现的角度看看区块链的架构" class="hash-link" aria-label="Direct link to 3 从实现的角度看，看区块链的架构" title="Direct link to 3 从实现的角度看，看区块链的架构">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-比特币系统架构">3.1 比特币系统架构<a href="#31-比特币系统架构" class="hash-link" aria-label="Direct link to 3.1 比特币系统架构" title="Direct link to 3.1 比特币系统架构">​</a></h3><p>根据上一节比特币系统的运行，我们大致可以知道比特币系统（区块链系统类似）的架构。</p><ul><li>用户可以发送交易到比特币系统，所以比特币系统中有<code>Rpc server</code>或者是<code>http server</code>。</li><li>节点之间可以通信，且节点之间的地位对等，那么需要<code>P2P</code>网络部分。</li><li>每个节点收到交易后，首先是将交易放在交易池中，挖矿时是从交易池取出交易进行打包，所以需要交易池。</li><li>需要保证所有节点上的账本一致，所以需要共识模块。</li><li>区块形成的链条在每个节点上都是持久化存储的，所以需要数据库用于节点上数据的持久化。</li><li>共识里面涉及到的区块链条、区块、交易等结构的一些定义和组织形式，所以需要账本模块。</li><li>其它还涉及到一些安全、加密相关的模块。</li></ul><p>根据这些推断，我们可以得出比特币的大致架构如下：</p><p><img loading="lazy" src="/all-in-one-solana/assets/images/bitcoin-arc-a41ce54471db66a8670d01b03b601924.png" width="612" height="447" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-以太坊系统架构">3.2 以太坊系统架构<a href="#32-以太坊系统架构" class="hash-link" aria-label="Direct link to 3.2 以太坊系统架构" title="Direct link to 3.2 以太坊系统架构">​</a></h3><p>下图是从网络中找到的以太坊的架构图：</p><p><img loading="lazy" src="/all-in-one-solana/assets/images/eth-arc-d56c0f42956a42331f45ee7b56256017.png" width="1144" height="874" class="img_ev3q"></p><p>我们可以看到和比特币的架构图大体上差不多，主要是多了智能合约相关的内容。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-通常的区块链系统架构">3. 通常的区块链系统架构<a href="#3-通常的区块链系统架构" class="hash-link" aria-label="Direct link to 3. 通常的区块链系统架构" title="Direct link to 3. 通常的区块链系统架构">​</a></h2><p>其实从前面的比特币和以太坊架构，我们也可以推断出来，大部分区块链系统的架构都差不太多，尤其是现在常见的区块链系统，其架构都类似于以太坊的架构。有差别的主要在于共识模块、分布式账本的具体实现。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-solana的原理">4 solana的原理<a href="#4-solana的原理" class="hash-link" aria-label="Direct link to 4 solana的原理" title="Direct link to 4 solana的原理">​</a></h2><p>前面主要介绍了区块链的基础知识，再讲讲<code>Solana</code>的相关原理。具体内容可以参考<a href="https://web3caff.com/zh/archives/14903" target="_blank" rel="noopener noreferrer">这篇文章</a>。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-推荐资料">5 推荐资料<a href="#5-推荐资料" class="hash-link" aria-label="Direct link to 5 推荐资料" title="Direct link to 5 推荐资料">​</a></h2><ul><li>《精通比特币》</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考资料">参考资料💾<a href="#参考资料" class="hash-link" aria-label="Direct link to 参考资料💾" title="Direct link to 参考资料💾">​</a></h2><ul><li><a href="https://www.xinbaoku.com/blockchain/" target="_blank" rel="noopener noreferrer">https://www.xinbaoku.com/blockchain/</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/all-in-one-solana/Solana-Co-Learn/tags/blockchain">blockchain</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/all-in-one-solana/Solana-Co-Learn/tags/basic">basic</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/CreatorsDAO/all-in-one-solana/edit/main/docs/Solana-Co-Learn/module1/block-chain-basic/README.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/all-in-one-solana/Solana-Co-Learn/module1/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Solana 基础 (与Solana网络通过rpc交互)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/all-in-one-solana/Solana-Co-Learn/module1/local_program_development/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">本地开发环境配置</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-什么是区块链" class="table-of-contents__link toc-highlight">1. 什么是区块链？</a><ul><li><a href="#11-区块链的定义" class="table-of-contents__link toc-highlight">1.1 区块链的定义</a></li><li><a href="#12-比特币和区块链的关系" class="table-of-contents__link toc-highlight">1.2 比特币和区块链的关系</a></li><li><a href="#13-区块链技术的演进" class="table-of-contents__link toc-highlight">1.3 区块链技术的演进</a></li></ul></li><li><a href="#2-从使用者的角度看区块链是怎样运行的" class="table-of-contents__link toc-highlight">2 从使用者的角度看，区块链是怎样运行的？</a><ul><li><a href="#21-比特币的运行" class="table-of-contents__link toc-highlight">2.1 比特币的运行</a></li><li><a href="#22-几个重要的问题" class="table-of-contents__link toc-highlight">2.2 几个重要的问题</a></li></ul></li><li><a href="#3-从实现的角度看看区块链的架构" class="table-of-contents__link toc-highlight">3 从实现的角度看，看区块链的架构</a><ul><li><a href="#31-比特币系统架构" class="table-of-contents__link toc-highlight">3.1 比特币系统架构</a></li><li><a href="#32-以太坊系统架构" class="table-of-contents__link toc-highlight">3.2 以太坊系统架构</a></li></ul></li><li><a href="#3-通常的区块链系统架构" class="table-of-contents__link toc-highlight">3. 通常的区块链系统架构</a></li><li><a href="#4-solana的原理" class="table-of-contents__link toc-highlight">4 solana的原理</a></li><li><a href="#5-推荐资料" class="table-of-contents__link toc-highlight">5 推荐资料</a></li><li><a href="#参考资料" class="table-of-contents__link toc-highlight">参考资料💾</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Products</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/CreatorsDAO/all-in-one-solana/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/92B7aka3qr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/SolanaCreators" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/all-in-one-solana/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/CreatorsDAO" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 All in One Solana site, Inc.</div></div></div></footer></div>
<script src="/all-in-one-solana/assets/js/runtime~main.d9e3c240.js"></script>
<script src="/all-in-one-solana/assets/js/main.33da7cde.js"></script>
</body>
</html>